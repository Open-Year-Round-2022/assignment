generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:../database.db"
}

model Post {
  PostID    String     @id
  CreatedAt Int
  Content   String
  ImageURL  String
  UserID    String
  User      User       @relation(fields: [UserID], references: [UserID], onDelete: NoAction, onUpdate: NoAction)
  PostLike  PostLike[]
  Reply     Reply[]
}

model PostLike {
  PostID String
  UserID String
  Post   Post   @relation(fields: [PostID], references: [PostID], onDelete: NoAction, onUpdate: NoAction)
  User   User   @relation(fields: [UserID], references: [UserID], onDelete: NoAction, onUpdate: NoAction)

  @@id([PostID, UserID])
}

model Reply {
  ReplyID   String @id
  CreatedAt Int
  Content   String
  PostID    String
  UserID    String
  Post      Post   @relation(fields: [PostID], references: [PostID], onDelete: NoAction, onUpdate: NoAction)
  User      User   @relation(fields: [UserID], references: [UserID], onDelete: NoAction, onUpdate: NoAction)
}

model User {
  UserID   String     @id
  Name     String
  Username String
  ImageURL String
  Password String
  Post     Post[]
  PostLike PostLike[]
  Reply    Reply[]
}
